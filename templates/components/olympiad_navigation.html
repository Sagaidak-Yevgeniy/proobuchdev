{% load i18n %}

<div class="bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden mb-6">
    <div class="p-4 border-b border-gray-200 dark:border-gray-700">
        <h2 class="text-lg font-semibold text-gray-800 dark:text-white flex items-center">
            <i class="fas fa-map-signs text-indigo-500 mr-2"></i>
            {% trans 'Навигация' %}
        </h2>
    </div>
    
    <div class="p-4">
        <ul class="space-y-2">
            <!-- Основная информация о олимпиаде -->
            <li>
                <a href="{% url 'olympiads:olympiad_detail' olympiad_id=olympiad.id %}" 
                   class="flex items-center p-2 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 {% if current_section == 'detail' %}bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300{% else %}text-gray-700 dark:text-gray-300{% endif %}">
                    <i class="fas fa-info-circle w-5 text-center mr-2"></i>
                    <span>{% trans 'Информация' %}</span>
                </a>
            </li>
            
            <!-- Задания олимпиады (для участников) -->
            {% if is_participant %}
            <li>
                <a href="{% url 'olympiads:olympiad_tasks' olympiad_id=olympiad.id %}" 
                   class="flex items-center p-2 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 {% if current_section == 'tasks' %}bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300{% else %}text-gray-700 dark:text-gray-300{% endif %}">
                    <i class="fas fa-tasks w-5 text-center mr-2"></i>
                    <span>{% trans 'Задания' %}</span>
                </a>
            </li>
            
            <!-- Результаты олимпиады (если олимпиада завершена или пользователь завершил участие) -->
            {% if has_results %}
            <li>
                <a href="{% url 'olympiads:olympiad_results' olympiad_id=olympiad.id %}" 
                   class="flex items-center p-2 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 {% if current_section == 'results' %}bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300{% else %}text-gray-700 dark:text-gray-300{% endif %}">
                    <i class="fas fa-poll w-5 text-center mr-2"></i>
                    <span>{% trans 'Мои результаты' %}</span>
                </a>
            </li>
            {% endif %}
            
            <!-- Сертификат (если олимпиада завершена и у пользователя проходной балл) -->
            {% if has_certificate %}
            <li>
                <a href="{% url 'olympiads:olympiad_certificate' olympiad_id=olympiad.id %}" 
                   class="flex items-center p-2 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 {% if current_section == 'certificate' %}bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300{% else %}text-gray-700 dark:text-gray-300{% endif %}">
                    <i class="fas fa-certificate w-5 text-center mr-2"></i>
                    <span>{% trans 'Сертификат' %}</span>
                </a>
            </li>
            {% endif %}
            {% endif %}
            
            <!-- Таблица лидеров -->
            {% if olympiad.status == 'completed' %}
            <li>
                <a href="{% url 'olympiads:olympiad_leaderboard' olympiad_id=olympiad.id %}" 
                   class="flex items-center p-2 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 {% if current_section == 'leaderboard' %}bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300{% else %}text-gray-700 dark:text-gray-300{% endif %}">
                    <i class="fas fa-trophy w-5 text-center mr-2"></i>
                    <span>{% trans 'Таблица лидеров' %}</span>
                </a>
            </li>
            {% endif %}
            
            <!-- Дополнительные опции для организаторов олимпиады -->
            {% if is_organizer %}
            <li class="border-t border-gray-200 dark:border-gray-700 pt-2 mt-2">
                <span class="text-xs font-semibold text-gray-500 dark:text-gray-400 block px-2 mb-2">{% trans 'Управление олимпиадой' %}</span>
                
                <a href="{% url 'olympiads:olympiad_edit' olympiad_id=olympiad.id %}" 
                   class="flex items-center p-2 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 {% if current_section == 'edit' %}bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300{% else %}text-gray-700 dark:text-gray-300{% endif %}">
                    <i class="fas fa-edit w-5 text-center mr-2"></i>
                    <span>{% trans 'Редактировать' %}</span>
                </a>
                
                <a href="{% url 'olympiads:olympiad_participants' olympiad_id=olympiad.id %}" 
                   class="flex items-center p-2 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 {% if current_section == 'participants' %}bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300{% else %}text-gray-700 dark:text-gray-300{% endif %}">
                    <i class="fas fa-users w-5 text-center mr-2"></i>
                    <span>{% trans 'Участники' %}</span>
                </a>
                
                <a href="{% url 'olympiads:olympiad_invitations' olympiad_id=olympiad.id %}" 
                   class="flex items-center p-2 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 {% if current_section == 'invitations' %}bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300{% else %}text-gray-700 dark:text-gray-300{% endif %}">
                    <i class="fas fa-envelope w-5 text-center mr-2"></i>
                    <span>{% trans 'Приглашения' %}</span>
                </a>
                
                <a href="{% url 'olympiads:olympiad_statistics' olympiad_id=olympiad.id %}" 
                   class="flex items-center p-2 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 {% if current_section == 'statistics' %}bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300{% else %}text-gray-700 dark:text-gray-300{% endif %}">
                    <i class="fas fa-chart-bar w-5 text-center mr-2"></i>
                    <span>{% trans 'Статистика' %}</span>
                </a>
            </li>
            {% endif %}
        </ul>
    </div>
</div>