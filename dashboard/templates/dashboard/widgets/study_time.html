{% if data.study_time_data %}
    <div class="study-time-widget">
        <div class="chart-container h-32 mb-4">
            <div class="h-full flex items-end justify-between">
                {% for day in data.study_time_data %}
                    {% with height=day.minutes|floatformat:0|add:"0"|stringformat:"d"|default:"1" %}
                        <div class="flex flex-col items-center">
                            <div class="text-xs text-gray-500 mb-1">{{ day.time }}</div>
                            <div class="w-8 bg-blue-400 rounded-t" style="height: {% if height > 0 %}{{ height|floatformat:0 }}%{% else %}4px{% endif %}"></div>
                            <div class="text-xs text-gray-500 mt-1">{{ day.date }}</div>
                        </div>
                    {% endwith %}
                {% endfor %}
            </div>
        </div>
        <div class="text-center text-sm text-gray-500">
            Время обучения за последние 7 дней
        </div>
    </div>
{% else %}
    <div class="no-data">
        <i class="fas fa-clock text-3xl mb-3"></i>
        <p>Нет данных о времени обучения</p>
    </div>
{% endif %}